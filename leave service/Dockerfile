FROM node:20.15.0-slim
WORKDIR /app

ENV DB_HOST=aws-0-eu-central-1.pooler.supabase.com
ENV DB_USER=postgres.ugkoqfjkatfovfkojppu
ENV DB_NAME=postgres
ENV DB_PORT=5432
ENV DB_PASS=ul8P9ZHGvNmi3G9C

ENV JWT_SECRET=DUIFNBVDFOV548N04V8VN043V5I845N80N485048N5V90485NV04N5
ENV DEFAULT_IMG=https://res.cloudinary.com/ditrc0kph/image/upload/v1728993080/uz09qzzz2naxhrzbea7r.png
ENV APP_URL=http://localhost:4000

ENV PUSHER_APP_ID=1912189
ENV PUSHER_KEY=c258e3921e7482efc971
ENV PUSHER_SECRET=0b64a296d25dd068979c
ENV PUSHER_CLUSTER=mt1

ENV NODE_ENV=DEV

#PORT=5000
ENV SENDGRID_API_KEY=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
ENV AUTH_SERVICE_URL=http://localhost:4000/api

COPY package*.json ./
RUN npm ci
COPY . .
EXPOSE 4000

CMD ["npm", "run", "dev"]